import PlantData, { PlantGrowthStage } from "./plantData";

type plantGrowthTiles = {
    width: number,
    height: number,
    tiles: number[]
}

export default class PlantGrowthTileSets {

    static PlantType1: plantGrowthTiles[] = [
        {
            width: 1,
            height: 1,
            tiles: [(10*18) + 0]
        },
        {
            width: 1,
            height: 1,
            tiles: [(10*18) + 1]
        },
        {
            width: 1,
            height: 2,
            tiles: [
                (10*17) + 2,
                (10*18) + 2
            ]
        },
        {
            width: 1,
            height: 3,
            tiles: [
                (10 * 16) + 3,
                (10 * 17) + 3,
                (10 * 18) + 3
            ]
        },
        {
            width: 1,
            height: 4,
            tiles: [
                (10 * 15) + 4,
                (10 * 16) + 4,
                (10 * 17) + 4,
                (10 * 18) + 4

            ]
        },
        {
            width: 1,
            height: 4,
            tiles: [
                (10 * 15) + 5,
                (10 * 16) + 5,
                (10 * 17) + 5,
                (10 * 18) + 5
            ]
        },
        {
            width: 3,
            height: 3,
            tiles: [
                (10 * 16) + 6, (10 * 16) + 7, (10 * 16) + 8,
                (10 * 17) + 6, (10 * 17) + 7, (10 * 17) + 8,
                (10 * 18) + 6, (10 * 18) + 7, (10 * 18) + 8
            ]
        },
        {
            width: 1,
            height: 3,
            tiles: [
                (10 * 16) + 9,
                (10 * 17) + 9,
                (10 * 18) + 9
            ]
        }
    ]

    static PlantType2: plantGrowthTiles[] = [
        {
            width: 3,
            height: 2,
            tiles: [
                (10 * 21) + 0, (10 * 21) + 1, (10 * 21) + 2,
                (10 * 22) + 0, (10 * 22) + 1, (10 * 22) + 2
            ]
        },
        {
            width: 3,
            height: 4,
            tiles: [
                (10 * 19) + 3, (10 * 19) + 4, (10 * 19) + 5,
                (10 * 20) + 3, (10 * 20) + 4, (10 * 20) + 5,
                (10 * 21) + 3, (10 * 21) + 4, (10 * 21) + 5,
                (10 * 22) + 3, (10 * 22) + 4, (10 * 22) + 5,

            ]
        },
        {
            width: 3,
            height: 4,
            tiles: [
                (10 * 19) + 6, (10 * 19) + 7, (10 * 19) + 8,
                (10 * 20) + 6, (10 * 20) + 7, (10 * 20) + 8,
                (10 * 21) + 6, (10 * 21) + 7, (10 * 21) + 8,
                (10 * 22) + 6, (10 * 22) + 7, (10 * 22) + 8,

            ]
        },
        {
            width: 5,
            height: 4,
            tiles: [
                (10 * 23) + 0, (10 * 23) + 1, (10 * 23) + 2, (10 * 23) + 3, (10 * 23) + 4,
                (10 * 24) + 0, (10 * 24) + 1, (10 * 24) + 2, (10 * 24) + 3, (10 * 24) + 4,
                (10 * 25) + 0, (10 * 25) + 1, (10 * 25) + 2, (10 * 25) + 3, (10 * 25) + 4,
                (10 * 26) + 0, (10 * 26) + 1, (10 * 26) + 2, (10 * 26) + 3, (10 * 26) + 4,

            ]
        },
        {
            width: 5,
            height: 4,
            tiles: [
                (10 * 23) + 5, (10 * 23) + 6, (10 * 23) + 7, (10 * 23) + 8, (10 * 23) + 9,
                (10 * 24) + 5, (10 * 24) + 6, (10 * 24) + 7, (10 * 24) + 8, (10 * 24) + 9,
                (10 * 25) + 5, (10 * 25) + 6, (10 * 25) + 7, (10 * 25) + 8, (10 * 25) + 9,
                (10 * 26) + 5, (10 * 26) + 6, (10 * 26) + 7, (10 * 26) + 8, (10 * 26) + 9,

            ]
        },
        {
            width: 5,
            height: 4,
            tiles: [
                (10 * 27) + 0, (10 * 27) + 1, (10 * 27) + 2, (10 * 27) + 3, (10 * 27) + 4,
                (10 * 28) + 0, (10 * 28) + 1, (10 * 28) + 2, (10 * 28) + 3, (10 * 28) + 4,
                (10 * 29) + 0, (10 * 29) + 1, (10 * 29) + 2, (10 * 29) + 3, (10 * 29) + 4,
                (10 * 30) + 0, (10 * 30) + 1, (10 * 30) + 2, (10 * 30) + 3, (10 * 30) + 4,

            ]
        },
        {
            width: 5,
            height: 4,
            tiles: [
                (10 * 27) + 5, (10 * 27) + 6, (10 * 27) + 7, (10 * 27) + 8, (10 * 27) + 9,
                (10 * 28) + 5, (10 * 28) + 6, (10 * 28) + 7, (10 * 28) + 8, (10 * 28) + 9,
                (10 * 29) + 5, (10 * 29) + 6, (10 * 29) + 7, (10 * 29) + 8, (10 * 29) + 9,
                (10 * 30) + 5, (10 * 30) + 6, (10 * 30) + 7, (10 * 30) + 8, (10 * 30) + 9,

            ]
        },
        {
            width: 5,
            height: 4,
            tiles: [
                (10 * 31) + 0, (10 * 31) + 1, (10 * 31) + 2, (10 * 31) + 3, (10 * 31) + 4,
                (10 * 32) + 0, (10 * 32) + 1, (10 * 32) + 2, (10 * 32) + 3, (10 * 32) + 4,
                (10 * 33) + 0, (10 * 33) + 1, (10 * 33) + 2, (10 * 33) + 3, (10 * 33) + 4,
                (10 * 34) + 0, (10 * 34) + 1, (10 * 34) + 2, (10 * 34) + 3, (10 * 34) + 4,

            ]
        }
    ]

    static PlantType3: plantGrowthTiles[] = [
        {
            width: 3,
            height: 1,
            tiles: [
                (10 * 36) + 0, (10 * 36) + 1, (10 * 36) + 2
            ]
        },
        {
            width: 3,
            height: 2,
            tiles: [
                (10 * 35) + 3, (10 * 35) + 4, (10 * 35) + 5,
                (10 * 36) + 3, (10 * 36) + 4, (10 * 36) + 5
            ]
        },
        {
            width: 3,
            height: 2,
            tiles: [
                (10 * 35) + 6, (10 * 35) + 7, (10 * 35) + 8,
                (10 * 36) + 6, (10 * 36) + 7, (10 * 36) + 8
            ]
        },
        {
            width: 3,
            height: 3,
            tiles: [
                (10 * 37) + 0, (10 * 37) + 1, (10 * 37) + 2,
                (10 * 38) + 0, (10 * 38) + 1, (10 * 38) + 2,
                (10 * 39) + 0, (10 * 39) + 1, (10 * 39) + 2
            ]
        },
        {
            width: 3,
            height: 3,
            tiles: [
                (10 * 37) + 3, (10 * 37) + 4, (10 * 37) + 5,
                (10 * 38) + 3, (10 * 38) + 4, (10 * 38) + 5,
                (10 * 39) + 3, (10 * 39) + 4, (10 * 39) + 5
            ]
        },
        {
            width: 3,
            height: 3,
            tiles: [
                (10 * 37) + 6, (10 * 37) + 7, (10 * 37) + 8,
                (10 * 38) + 6, (10 * 38) + 7, (10 * 38) + 8,
                (10 * 39) + 6, (10 * 39) + 7, (10 * 39) + 8
            ]
        },
        {
            width: 3,
            height: 3,
            tiles: [
                (10 * 40) + 0, (10 * 40) + 1, (10 * 40) + 2,
                (10 * 41) + 0, (10 * 41) + 1, (10 * 41) + 2,
                (10 * 42) + 0, (10 * 42) + 1, (10 * 42) + 2
            ]
        },
        {
            width: 3,
            height: 3,
            tiles: [
                (10 * 40) + 3, (10 * 40) + 4, (10 * 40) + 5,
                (10 * 41) + 3, (10 * 41) + 4, (10 * 41) + 5,
                (10 * 42) + 3, (10 * 42) + 4, (10 * 42) + 5
            ]
        },
    ]

    static PlantType4: plantGrowthTiles[] = [
        {
            width: 3,
            height: 1,
            tiles: [
                (10 * 44) + 0, (10 * 44) + 1, (10 * 44) + 2
            ]
        },
        {
            width: 3,
            height: 2,
            tiles: [
                (10 * 43) + 3, (10 * 43) + 4, (10 * 43) + 5,
                (10 * 44) + 3, (10 * 44) + 4, (10 * 44) + 5
            ]
        },
        {
            width: 3,
            height: 2,
            tiles: [
                (10 * 43) + 6, (10 * 43) + 7, (10 * 43) + 8,
                (10 * 44) + 6, (10 * 44) + 7, (10 * 44) + 8
            ]
        },
        {
            width: 3,
            height: 3,
            tiles: [
                (10 * 45) + 0, (10 * 45) + 1, (10 * 45) + 2,
                (10 * 46) + 0, (10 * 46) + 1, (10 * 46) + 2,
                (10 * 47) + 0, (10 * 47) + 1, (10 * 47) + 2
            ]
        },
        {
            width: 3,
            height: 3,
            tiles: [
                (10 * 45) + 3, (10 * 45) + 4, (10 * 45) + 5,
                (10 * 46) + 3, (10 * 46) + 4, (10 * 46) + 5,
                (10 * 47) + 3, (10 * 47) + 4, (10 * 47) + 5
            ]
        },
        {
            width: 3,
            height: 3,
            tiles: [
                (10 * 45) + 6, (10 * 45) + 7, (10 * 45) + 8,
                (10 * 46) + 6, (10 * 46) + 7, (10 * 46) + 8,
                (10 * 47) + 6, (10 * 47) + 7, (10 * 47) + 8
            ]
        },
        {
            width: 3,
            height: 3,
            tiles: [
                (10 * 48) + 0, (10 * 48) + 1, (10 * 48) + 2,
                (10 * 49) + 0, (10 * 49) + 1, (10 * 49) + 2,
                (10 * 50) + 0, (10 * 50) + 1, (10 * 50) + 2
            ]
        },
        {
            width: 3,
            height: 3,
            tiles: [
                (10 * 48) + 3, (10 * 48) + 4, (10 * 48) + 5,
                (10 * 49) + 3, (10 * 49) + 4, (10 * 49) + 5,
                (10 * 50) + 3, (10 * 50) + 4, (10 * 50) + 5
            ]
        },
    ]

    static PlantType5: plantGrowthTiles[] = [
        {
            width: 1,
            height: 1,
            tiles: [
                (10 * 54) + 0
            ]
        },
        {
            width: 1,
            height: 2,
            tiles: [
                (10 * 53) + 1,
                (10 * 54) + 1
            ]
        },
        {
            width: 3,
            height: 3,
            tiles: [
                (10 * 52) + 2, (10 * 52) + 3, (10 * 52) + 4,
                (10 * 53) + 2, (10 * 53) + 3, (10 * 53) + 4,
                (10 * 54) + 2, (10 * 54) + 3, (10 * 54) + 4,
            ]
        },
        {
            width: 3,
            height: 4,
            tiles: [
                (10 * 51) + 5, (10 * 51) + 6, (10 * 51) + 7,
                (10 * 52) + 5, (10 * 52) + 6, (10 * 52) + 7,
                (10 * 53) + 5, (10 * 53) + 6, (10 * 53) + 7,
                (10 * 54) + 5, (10 * 54) + 6, (10 * 54) + 7,
            ]
        },
        {
            width: 3,
            height: 4,
            tiles: [
                (10 * 55) + 0, (10 * 55) + 1, (10 * 55) + 2,
                (10 * 56) + 0, (10 * 56) + 1, (10 * 56) + 2,
                (10 * 57) + 0, (10 * 57) + 1, (10 * 57) + 2,
                (10 * 58) + 0, (10 * 58) + 1, (10 * 58) + 2,
            ]
        },
        {
            width: 3,
            height: 4,
            tiles: [
                (10 * 55) + 3, (10 * 55) + 4, (10 * 55) + 5,
                (10 * 56) + 3, (10 * 56) + 4, (10 * 56) + 5,
                (10 * 57) + 3, (10 * 57) + 4, (10 * 57) + 5,
                (10 * 58) + 3, (10 * 58) + 4, (10 * 58) + 5,
            ]
        },
        {
            width: 3,
            height: 4,
            tiles: [
                (10 * 55) + 6, (10 * 55) + 7, (10 * 55) + 8,
                (10 * 56) + 6, (10 * 56) + 7, (10 * 56) + 8,
                (10 * 57) + 6, (10 * 57) + 7, (10 * 57) + 8,
                (10 * 58) + 6, (10 * 58) + 7, (10 * 58) + 8,
            ]
        },
        {
            width: 3,
            height: 4,
            tiles: [
                (10 * 59) + 0, (10 * 59) + 1, (10 * 59) + 2,
                (10 * 60) + 0, (10 * 60) + 1, (10 * 60) + 2,
                (10 * 61) + 0, (10 * 61) + 1, (10 * 61) + 2,
                (10 * 62) + 0, (10 * 62) + 1, (10 * 62) + 2,
            ]
        }
    ]

    static randomPlantType(): plantGrowthTiles[] {
        
        let plantTypes = [
            PlantGrowthTileSets.PlantType1, PlantGrowthTileSets.PlantType2, PlantGrowthTileSets.PlantType3,
            PlantGrowthTileSets.PlantType4, PlantGrowthTileSets.PlantType5
        ];

        let choice = plantTypes[Math.floor(Math.random() * plantTypes.length)];

        return choice;
    }

    static AddToTileSet(plantData: PlantData, tileIndexData: number[][]): number[][]{


        if(!plantData.alive){
            return tileIndexData;
        } else {

            let aerialTileInfo = (plantData.plantGrowthType[plantData.plantGrowthStage] as plantGrowthTiles );

            let xOffset = (aerialTileInfo.width - 1)/2;
    
            for(let x = -xOffset; x <= xOffset; x++){
                for(let y = 0; y < aerialTileInfo.height; y++){
                    tileIndexData[plantData.startPos.y + y - (aerialTileInfo.height-1)][plantData.startPos.x + x] = aerialTileInfo.tiles[(x + xOffset) + (y * (aerialTileInfo.width))]
                }
            }
        }


        return tileIndexData;
    }


}
